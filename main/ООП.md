# Объектно-ориентированное программирование в C++

Объектно-ориентированное программирование (ООП) является одним из ключевых подходов к разработке программ на C++. ООП позволяет моделировать реальный мир в виде объектов и классов, обеспечивая высокую модульность, читаемость и повторное использование кода.

---

## Основные концепции ООП

### 0. Классы и объекты

- **Класс** — это шаблон или схема для создания объектов. Он определяет данные (переменные) и поведение (методы), которыми могут обладать объекты.
- **Объект** — это конкретный экземпляр класса, который содержит уникальные данные, но использует общие методы, определённые в классе.

#### Пример класса и объекта:

```cpp
class Car {
public:
    std::string brand;
    int year;

    void displayInfo() {
        std::cout << "Brand: " << brand << ", Year: " << year << std::endl;
    }
};

int main() {
    Car myCar;  // Создание объекта myCar
    myCar.brand = "Toyota";
    myCar.year = 2020;
    myCar.displayInfo();  // Вызов метода объекта
    return 0;
}
```


---

### 1. Инкапсуляция

Инкапсуляция — это концепция ООП, которая ограничивает доступ к данным класса извне и позволяет взаимодействовать с этими данными только через специально определённые методы. Это помогает защитить внутреннее состояние объекта от некорректных изменений.

#### Пример инкапсуляции:

```cpp
class Employee {
private:
    int salary;

public:
    void setSalary(int s) {
        if (s > 0) {
            salary = s;
        }
    }

    int getSalary() {
        return salary;
    }
};

int main() {
    Employee emp;
    emp.setSalary(5000);  // Устанавливаем зарплату через метод
    std::cout << emp.getSalary() << std::endl;  // Получаем зарплату через метод
    return 0;
}
```


---

## 2. Наследование

Наследование — это ключевая концепция ООП, которая позволяет одному классу (наследнику) наследовать свойства и методы другого класса (родителя). Это позволяет создавать новые классы на основе существующих, расширяя их функциональность.

### Пример наследования:

```cpp
// Базовый класс (родительский класс)
class Animal {
public:
    void eat() {
        std::cout << "This animal is eating." << std::endl;
    }
};

// Производный класс (наследник)
class Dog : public Animal {
public:
    void bark() {
        std::cout << "The dog is barking." << std::endl;
    }
};

int main() {
    Dog myDog;
    myDog.eat();  // Метод из родительского класса
    myDog.bark();  // Метод из класса Dog
    return 0;
}
```

---

### Виды наследования

В C++ существуют несколько видов наследования:

- **Публичное наследование** (`public`): Все члены родительского класса, которые публичны, остаются публичными в классе-наследнике. В примере выше использовано именно публичное наследование.
- **Защищенное наследование** (`protected`): Публичные члены родительского класса становятся защищенными (доступными только наследникам) в производном классе.
- **Приватное наследование** (`private`): Публичные члены родительского класса становятся приватными в классе-наследнике.

Пример защищённого наследования:

```cpp
class Animal {
protected:
    void sleep() {
        std::cout << "Animal is sleeping." << std::endl;
    }
};

class Cat : protected Animal {
public:
    void meow() {
        std::cout << "The cat is meowing." << std::endl;
        sleep();  // Можно вызывать защищенные методы родительского класса
    }
};

int main() {
    Cat myCat;
    myCat.meow();  // sleep() вызван через meow()
    return 0;
}
```


---

## 3. Полиморфизм

Полиморфизм — это способность функций или объектов принимать разные формы. В контексте ООП полиморфизм позволяет одному и тому же интерфейсу вести себя по-разному в зависимости от того, на каком объекте он используется.

### Виртуальные функции и переопределение методов

В C++ полиморфизм обычно достигается через виртуальные функции. Они позволяют классу-наследнику переопределять методы родительского класса.

#### Пример полиморфизма:

```cpp
class Animal {
public:
    virtual void makeSound() {
        std::cout << "Animal sound" << std::endl;
    }
};

class Dog : public Animal {
public:
    void makeSound() override {
        std::cout << "Bark" << std::endl;
    }
};

class Cat : public Animal {
public:
    void makeSound() override {
        std::cout << "Meow" << std::endl;
    }
};

int main() {
    Animal* animalPtr;

    Dog dog;
    Cat cat;

    animalPtr = &dog;
    animalPtr->makeSound();  // Вызывает Dog::makeSound()

    animalPtr = &cat;
    animalPtr->makeSound();  // Вызывает Cat::makeSound()

    return 0;
}
```

---

### Чисто виртуальные функции и абстрактные классы

Чисто виртуальные функции — это функции, которые не имеют реализации в базовом классе и должны быть переопределены в классе-наследнике. Если класс содержит хотя бы одну чисто виртуальную функцию, он становится абстрактным классом.

#### Пример абстрактного класса:

```cpp
class Shape {
public:
    virtual void draw() = 0;  // Чисто виртуальная функция
};

class Circle : public Shape {
public:
    void draw() override {
        std::cout << "Drawing a circle" << std::endl;
    }
};

class Square : public Shape {
public:
    void draw() override {
        std::cout << "Drawing a square" << std::endl;
    }
};

int main() {
    Shape* shape;

    Circle circle;
    Square square;

    shape = &circle;
    shape->draw();  // Вызывает Circle::draw()

    shape = &square;
    shape->draw();  // Вызывает Square::draw()

    return 0;
}
```

---

## Заключение

Объектно-ориентированное программирование (ООП) в C++ позволяет моделировать реальный мир с помощью классов и объектов, предоставляя мощные инструменты для управления сложностью программы. Ключевые концепции ООП, такие как **инкапсуляция**, **наследование** и **полиморфизм**, помогают создавать код, который легко поддерживать, расширять и использовать повторно.

- **Инкапсуляция** защищает внутренние данные объекта и контролирует доступ к ним.
- **Наследование** упрощает создание новых классов на основе существующих, избегая дублирования кода.
- **Полиморфизм** делает код более гибким и позволяет различным классам вести себя по-разному, используя один и тот же интерфейс.

Овладение этими концепциями — важный шаг на пути к мастерству в программировании на C++. Следующим шагом может быть углубление в тему работы с шаблонами и обобщённым программированием в C++, чтобы делать код ещё более универсальным и эффективным.

---

## Полезные ссылки

- [Официальная документация по ООП в C++](https://en.cppreference.com/w/cpp/language/object)
- [Учебник по ООП на learncpp.com](https://www.learncpp.com/cpp-tutorial/object-oriented-programming-in-cpp/)